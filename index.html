<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>15 Tiles</title>
  <link rel="stylesheet" href="css/style.css">
  <script type="module" src="js/index.js"></script>
  <script nomodule src="js/nomodule.js"></script>
</head>
<body>
  <div class="app">

    <div class="board">

      <div class="tile" unselectable="on">1</div>
      <div class="tile" unselectable="on">2</div>
      <div class="tile" unselectable="on">3</div>
      <div class="tile" unselectable="on">4</div>
      <div class="tile" unselectable="on">5</div>
      <div class="tile" unselectable="on">6</div>
      <div class="tile" unselectable="on">7</div>
      <div class="tile" unselectable="on">8</div>
      <div class="tile" unselectable="on">9</div>
      <div class="tile" unselectable="on">10</div>
      <div class="tile" unselectable="on">11</div>
      <div class="tile" unselectable="on">12</div>
      <div class="tile" unselectable="on">13</div>
      <div class="tile" unselectable="on">14</div>
      <div class="tile" unselectable="on">15</div>
      <div class="tile empty" unselectable="on"></div>

    </div>

    <div class="controls">
      
      <div id="joystick" >
        <div class="arows" >
        <!-- draggable="true" -->
        <!-- > -->
          <div ></div>
        </div>
      </div>

      <div class="move-btns">
        <button class="move up">&uarr;</button>
        <button class="move left">&larr;</button>
        <button class="move right">&rarr;</button>
        <button class="move down">&darr;</button>
      </div>

      <div class="shuffle">
        <button class="shuffle">перемешать</button>
      </div>

    </div>

  </div>
  <!-- <script src="js/control.js"></script> -->
  <script>
    // const joystick = document.querySelector('#joystick > .arows');
    // const joystickZone = document.getElementById('joystick');

//     ;window.dnd = {

// on: function( expression, config ) {

//   var els = document.querySelectorAll(expression);

//   [].forEach.call(els, function (el) {

//     el.addEventListener('dragstart', function (e) {
//       e.dataTransfer.effectAllowed = 'move';
//       var crt = this.cloneNode(true);
//     crt.style.backgroundColor = "red";
//     crt.style.display = "none"; /* or visibility: hidden, or any of the above */
//     document.body.appendChild(crt);
//     e.dataTransfer.setDragImage(crt, 0, 0);
//       // e.dataTransfer.setDragImage(e.target, 100, 100);
//       config.start ? config.start(this, e) : 0;
//     }, false);

//     el.addEventListener('dragenter', function (e) {
//       config.enter ? config.enter(this, e) : 0;
//     }, false);

//     el.addEventListener('dragover', function (e) {
//       e.preventDefault();
//       e.dataTransfer.dropEffect = 'move';
//       config.over ? config.over(this, e) : 0;
//     }, false);

//     el.addEventListener('dragleave', function (e) {
//       config.leave ? config.leave(this, e) : 0;
//     }, false );

//     el.addEventListener('drop', function (e) {
//       e.stopPropagation();
//       e.preventDefault();
//       config.drop ? config.drop(e.dataTransfer, this, e) : 0;
//     }, false);

//     el.addEventListener('dragend', function (e) {
//       config.end ? config.end(this, e) : 0;
//     }, false);
//   });
// }
// };


// let start = 0;
// let current = 0;
// let dif = 0;

//     dnd.on('#joystick > .arows', {
//       start: function s(t, e) { if(start === 0) start = e.pageY; },
//       over(t, e) {
//         //  console.log(e.pageY);
//          current = e.pageY;
//          dif = start - current;
//          console.log(dif);
//         t.style.transform = `translateY(${-dif}px) rotate(45deg)`;
//         // t.style.transform = '';
//         console.log(t);
//         }
//     })
    




    // dnd.on('#joystick > .arows', {
      // start(e) { console.log(e); },
      // over(e) { console.log(e); }
    // })

    // joystick.addEventListener('dragstart', function(e) {
    //   // e.preventDefault();
    //   e.dataTransfer.effectAllowed = 'move';
    //   e.dataTransfer.setData('Data', e.target.getAttribute('id'));
    //   e.dataTransfer.setDragImage(e.target, 100, 100);
    //   // console.log(e.x);
    //   console.log('dragstart', e);
    //   // console.log(e.dataTransfer);
    //   // return true;
    // }, false);
    
    // joystick.addEventListener('mousedown', function(e) {
      // console.log('mousedown', e);
    // }, false);
    
    // joystick.addEventListener('drag', function(e) {
    //   // e.preventDefault();
    //   // console.log('drag', window.getComputedStyle(e.target).top);
    //   // const y = e.target.style.top;
    //   // e.target.style.top = `${e.layerY}px`;
    // }, false);

    // joystickZone.addEventListener('dragenter', function(e) {
    //   // e.preventDefault();
    //   console.log(e);
    //   // console.log('dragstart', e);
    //   // console.log(e.dataTransfer);
    //   // return true;
    // }, false);

    // joystickZone.addEventListener('dragover', function(e) {
    //   // e.preventDefault();
    //   console.log(e);
    //   // console.log('dragstart', e);
    //   // console.log(e.dataTransfer);
    //   return false;
    // }, false);
  </script>
</body>
</html>